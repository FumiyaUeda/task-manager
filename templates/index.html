{% extends "base.html" %}
{% block content %}
  <form method="get" action="{{ url_for('index') }}" style="margin-bottom:12px; display:flex; gap:8px;">
    <input type="text" name="q" placeholder="検索（タイトル / メモ）" value="{{ q or '' }}">
    <button type="submit">検索</button>
  </form>
  {% if items %}
    <div class="list">
      {% for item in items %}
        <div class="item">
          <h3>{{ item.title }}</h3>
          <p style="white-space:pre-wrap; color:#cbd5e1;">{{ item.note or '' }}</p>
          <div style="display:flex; gap:8px;">
            <a href="{{ url_for('edit', item_id=item.id) }}"><button>編集</button></a>
            <form method="post" action="{{ url_for('delete', item_id=item.id) }}" class="inline" onsubmit="return confirm('削除しますか？');">
              <button type="submit">削除</button>
            </form>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p>まだアイテムがありません。右上の「新規作成」から追加してください。</p>
  {% endif %}
{% endblock %}
